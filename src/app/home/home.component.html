<ng-container *ngIf="currentGame$ | async as currentGame">
  <div class="u-flex-around">
    <div>
      <div *ngIf="currentGame.king">
        Briscola <strong>{{currentGame.king | sign}}</strong>
      </div>
      <div *ngIf="currentGame.default">
        Gioco di <strong>{{currentGame.default | sign}}</strong>
      </div>
    </div>
    <div class="scores__details">
      <span>Noi: {{currentScore}}</span> - <span>Loro: {{opponentsScore}}</span>
    </div>
  </div>
  <div class="u-flex-center mb-20">
    <app-player [player]="teamMate$ | async"></app-player>
  </div>
  <div class="u-flex-around">
    <app-player [player]="leftPlayer$ | async"></app-player>
    <app-table [left]="(leftPlayer$ | async).card" [right]="(rightPlayer$ | async).card"
      [top]="(teamMate$ | async).card" [bottom]="(currentPlayer$ | async).card"></app-table>
    <app-player [player]="rightPlayer$ | async"></app-player>
  </div>
  <div class="u-flex-center">
    <app-current-player [player]="currentPlayer$ | async" [default]="currentGame.default"
      [shouldPlay]="currentGame.turn == (currentPlayer$ |async).position"
      [shouldSetKing]="currentGame.turn == (currentPlayer$ |async).position && !currentGame.king"
      (onPlayCard)="playCard($event)" (onSetKing)="setKing($event)">
    </app-current-player>
  </div>

</ng-container>
